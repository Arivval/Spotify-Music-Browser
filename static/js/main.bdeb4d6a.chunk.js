(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{187:function(e,t,a){e.exports=a(347)},192:function(e,t,a){},347:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(55),l=a.n(s),r=(a(192),a(16)),c=a(17),o=a(20),u=a(18),m=a(19),h=a(7),d=a(358),v=a(359),g=a(357),b=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={requestingLogin:!1},a.handleClick=a.handleClick.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(){this.setState({requestingLogin:!0});window.location="https://accounts.spotify.com/authorize?client_id=4ed1e929dd444b11a2a7f9d1d4657fba&response_type=token&redirect_uri=http://localhost:3000/rkmp2Test/"}},{key:"render",value:function(){return this.state.requestingLogin?i.a.createElement("div",null,i.a.createElement(g.a,{positive:"positive",loading:"loading",size:"massive"},"Spotify Login")):i.a.createElement("div",null,i.a.createElement(g.a,{positive:!0,onClick:this.handleClick,size:"massive"},"Spotify Login"))}}]),t}(i.a.Component),p=a(356),k=a(39),f=a(351),E=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={selectedIndex:"Your Library"},a.handleClick=a.handleClick.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e,t){var a=t.name;this.setState({selectedIndex:a})}},{key:"render",value:function(){return i.a.createElement(p.a,{pointing:!0,fluid:!0,vertical:!0,secondary:!0,inverted:!0,size:"massive"},i.a.createElement(p.a.Item,{as:f.a,to:"/rkmp2Test/",name:"Your Library",active:"Your Library"==this.state.selectedIndex,onClick:this.handleClick},"Browse Playlists",i.a.createElement(k.a,{name:"bookmark outline"})),i.a.createElement(p.a.Item,{as:f.a,to:"/rkmp2Test/new",name:"Home",active:"Home"==this.state.selectedIndex,onClick:this.handleClick},i.a.createElement(k.a,{name:"level up"}),"New Releases"),i.a.createElement(p.a.Item,{as:f.a,to:"/rkmp2Test/search",name:"Search",active:"Search"==this.state.selectedIndex,onClick:this.handleClick},i.a.createElement(k.a,{name:"search"}),"Search"))}}]),t}(n.Component),N=(a(53),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={stringEntered:""},a.handleSubmit=a.handleSubmit.bind(Object(h.a)(Object(h.a)(a))),a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleSubmit",value:function(e){console.log("Searching:",this.state.stringEntered),e.preventDefault(),this.props.searchCallBack(this.state.stringEntered,!0)}},{key:"handleChange",value:function(e){this.setState({stringEntered:e.target.value}),this.props.searchCallBack(e.target.value,!1)}},{key:"render",value:function(){return i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"ui inverted left icon input large"},i.a.createElement("input",{type:"text",placeholder:this.props.placeholder,onChange:this.handleChange}),i.a.createElement("i",{className:"search icon"})))}}]),t}(i.a.Component)),C=a(176),y=a(355),O=(a(42),a(43),new(function(){function e(){return Object(r.a)(this,e),e.instance||(e.instance=this),this.APIToken="",this.currentSearchTab="artist",this.APICalledTime=(new Date).getTime(),this.ablumDetailIdx=0,this.ablumAPIList=[],this.playListIndex=0,this.playList=[],e.instance}return Object(c.a)(e,[{key:"getToken",value:function(){return this.APIToken}},{key:"setToken",value:function(e){this.APIToken=e}},{key:"getCurrentTab",value:function(){return this.currentSearchTab}},{key:"setCurrentTab",value:function(e){this.currentSearchTab=e}},{key:"throttleAPI",value:function(){return!0}},{key:"setAblumList",value:function(e){this.ablumAPIList=e}},{key:"getAblumList",value:function(){return this.ablumAPIList}},{key:"setAblumIdx",value:function(e){this.ablumDetailIdx=e}},{key:"getAblumIdx",value:function(){return this.ablumDetailIdx}},{key:"setPlayList",value:function(e){this.playList=e}},{key:"getPlayList",value:function(){return this.playList}},{key:"setPlayListIndex",value:function(e){this.playListIndex=e}},{key:"getPlayListIndex",value:function(){return this.playListIndex}}]),e}())),D=a(26),L=a.n(D),S=a(354),j=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).searchCallBack=a.searchCallBack.bind(Object(h.a)(Object(h.a)(a))),a.detailViewCallBack=a.detailViewCallBack.bind(Object(h.a)(Object(h.a)(a))),a.onClickHandler=a.onClickHandler.bind(Object(h.a)(Object(h.a)(a))),a.handleAsc=a.handleAsc.bind(Object(h.a)(Object(h.a)(a))),a.handleRank=a.handleRank.bind(Object(h.a)(Object(h.a)(a))),a.state={searchText:"",requested:!1,JSON:null,doneRequesting:!1,rankVal:1,ascVal:1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillMount",value:function(){}},{key:"handleAsc",value:function(e,t){var a=t.value;this.setState({ascVal:a})}},{key:"handleRank",value:function(e,t){var a=t.value;this.setState({rankVal:a})}},{key:"onClickHandler",value:function(e){var t=this;console.log("clicked",e),O.setAblumList(this.state.JSON.filter(function(e){return e.name.toUpperCase().includes(t.state.searchText.toUpperCase())||e.artists.reduce(function(e,a){return e||a.name.toUpperCase().includes(t.state.searchText.toUpperCase())},!1)}).sort(function(e,a){return 1==t.state.rankVal?1==t.state.ascVal?1:-1:1==t.state.ascVal?e.name.toUpperCase()>a.name.toUpperCase()>0?1:-1:e.name.toUpperCase()>a.name.toUpperCase()>0?-1:1}).reduce(function(e,t){return e.concat(t.href)},[])),O.setAblumIdx(e),this.props.history.push("/rkmp2Test/detail/album")}},{key:"searchCallBack",value:function(e,t){var a=this;this.state.requested||this.setState({requested:!0}),this.setState({searchText:e}),this.state.doneRequesting||L.a.get("https://api.spotify.com/v1/browse/new-releases",{params:{limit:50},headers:{Authorization:"Bearer "+O.getToken()}}).then(function(e){console.log("GOOD!",e),a.setState({JSON:e.data.albums.items}),L.a.get(e.data.albums.next,{params:{limit:50},headers:{Authorization:"Bearer "+O.getToken()}}).then(function(e){console.log("GOOD!",e),a.setState({JSON:a.state.JSON.concat(e.data.albums.items),doneRequesting:!0})}).catch(function(e){console.log("BAD!",e),a.setState({requested:!1})})}).catch(function(e){console.log("BAD!",e),a.setState({requested:!1})})}},{key:"detailViewCallBack",value:function(e){O.setAblumIdx(e),this.props.history.push("/rkmp2Test/detail/album")}},{key:"render",value:function(){var e=this;if(0==this.state.doneRequesting)return i.a.createElement("div",{className:"LandingPage"},i.a.createElement("div",{className:"StickyNavBar"},i.a.createElement(N,{searchCallBack:this.searchCallBack,placeholder:"Filter"})),i.a.createElement("div",{className:"SearchResultPage"},i.a.createElement("div",{className:"U_Center U_LargeText"},"Filter the Trending New Releases")));console.log(this.state.JSON);var t=this.state.JSON.filter(function(t){return t.name.toUpperCase().includes(e.state.searchText.toUpperCase())||t.artists.reduce(function(t,a){return t||a.name.toUpperCase().includes(e.state.searchText.toUpperCase())},!1)}).sort(function(t,a){return 1==e.state.rankVal?1==e.state.ascVal?1:-1:1==e.state.ascVal?t.name.toUpperCase()>a.name.toUpperCase()>0?1:-1:t.name.toUpperCase()>a.name.toUpperCase()>0?-1:1}).map(function(t,a){try{for(var n=t.name,s=n.length>100;n.length>100;)n=n.slice(0,-1);return s&&(n+="..."),i.a.createElement(S.a.Item,{key:a,name:a,onClick:function(){e.onClickHandler(a)}},i.a.createElement(C.a,{src:t.images[2].url}),i.a.createElement(S.a.Content,null,i.a.createElement(S.a.Header,null,n),i.a.createElement(S.a.Description,null,t.artists.map(function(e,a){for(;a<3;)return a+1!=t.artists.length&&2!=a?e.name+", ":e.name;if(3==a)return"..."}))))}catch(l){return console.log(a,l),null}});return 0==this.state.JSON.filter(function(t){return t.name.toUpperCase().includes(e.state.searchText.toUpperCase())||t.artists.reduce(function(t,a){return t||a.name.toUpperCase().includes(e.state.searchText.toUpperCase())},!1)}).length&&(t=i.a.createElement(S.a.Item,null,i.a.createElement(S.a.Content,null,i.a.createElement(S.a.Header,null,"No Results Found")))),i.a.createElement("div",{className:"LandingPage"},i.a.createElement("div",{className:"StickyNavBar"},i.a.createElement(N,{searchCallBack:this.searchCallBack})),i.a.createElement("div",{className:"SearchResultPage"},i.a.createElement("div",{className:"FilterContainer"},"Sort By: \xa0\xa0\xa0",i.a.createElement(y.a,{options:[{key:1,text:"Rank",value:1},{key:2,text:"Alphabet",value:2}],selection:!0,value:this.state.rankVal,onChange:this.handleRank}),"\xa0\xa0\xa0",i.a.createElement(y.a,{options:[{key:1,text:"Ascending",value:1},{key:2,text:"Descending",value:2}],selection:!0,value:this.state.ascVal,onChange:this.handleAsc})),i.a.createElement(S.a,{selection:!0,divided:!0,inverted:!0,size:"massive"},t)))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).searchAPI=a.searchAPI.bind(Object(h.a)(Object(h.a)(a))),a.onClickHandler=a.onClickHandler.bind(Object(h.a)(Object(h.a)(a))),a.state={responseJSON:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.searchAPI(this.props.input)}},{key:"componentWillReceiveProps",value:function(e,t){this.searchAPI(e.input)}},{key:"onClickHandler",value:function(e,t){var a=t.name;this.props.detailViewCallBack(a)}},{key:"searchAPI",value:function(e){var t=this;L.a.get("https://api.spotify.com/v1/search",{params:{q:e,type:"album",limit:50},headers:{Authorization:"Bearer "+O.getToken()}}).then(function(e){t.setState({responseJSON:e})}).catch(function(e){})}},{key:"render",value:function(){var e=this;if(null===this.state.responseJSON)return null;var t=null;if(0==this.state.responseJSON.data.albums.items.length)t=i.a.createElement(S.a.Item,null,i.a.createElement(S.a.Content,null,i.a.createElement(S.a.Header,null,"No Results Found")));else{var a=[];t=this.state.responseJSON.data.albums.items.map(function(t,n){try{for(var s=t.name,l=s.length>100;s.length>100;)s=s.slice(0,-1);return l&&(s+="..."),a.push(t.href),i.a.createElement(S.a.Item,{key:n,name:n,onClick:e.onClickHandler},i.a.createElement(C.a,{src:t.images[2].url}),i.a.createElement(S.a.Content,null,i.a.createElement(S.a.Header,null,s),i.a.createElement(S.a.Description,null,t.artists.map(function(e,a){for(;a<3;)return a+1!=t.artists.length&&2!=a?e.name+", ":e.name;if(3==a)return"..."}))))}catch(r){return null}}),O.setAblumList(a)}return i.a.createElement(S.a,{selection:!0,divided:!0,inverted:!0,size:"massive"},t)}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).searchCallBack=a.searchCallBack.bind(Object(h.a)(Object(h.a)(a))),a.detailViewCallBack=a.detailViewCallBack.bind(Object(h.a)(Object(h.a)(a))),a.state={searchText:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"searchCallBack",value:function(e,t){(t||O.throttleAPI())&&(console.log("success!",e),console.log(this.props.location.pathname),this.props.history.push("/rkmp2Test/search/?"+encodeURIComponent(e)),this.setState({searchText:e}))}},{key:"detailViewCallBack",value:function(e){O.setAblumIdx(e),this.props.history.push("/rkmp2Test/detail/album")}},{key:"render",value:function(){return""==this.state.searchText?i.a.createElement("div",{className:"LandingPage"},i.a.createElement("div",{className:"StickyNavBar"},i.a.createElement(N,{searchCallBack:this.searchCallBack,placeholder:"Search For Albums"})),i.a.createElement("div",{className:"SearchResultPage"},i.a.createElement("div",{className:"U_Center U_LargeText"},"Search for Albums on Spotify"))):i.a.createElement("div",{className:"LandingPage"},i.a.createElement("div",{className:"StickyNavBar"},i.a.createElement(N,{searchCallBack:this.searchCallBack})),i.a.createElement("div",{className:"SearchResultPage"},i.a.createElement(I,{input:this.state.searchText,detailViewCallBack:this.detailViewCallBack})))}}]),t}(n.Component),x=a(353),T=a(352),w=a(62),A=a.n(w),B=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={responseCategory:[],activeMenu:"",responsePlayLists:[]},a.handleMenuClick=a.handleMenuClick.bind(Object(h.a)(Object(h.a)(a))),a.requestPlayLists=a.requestPlayLists.bind(Object(h.a)(Object(h.a)(a))),a.handleClick=a.handleClick.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("here"),L.a.get("https://api.spotify.com/v1/browse/categories",{headers:{Authorization:"Bearer "+O.getToken()}}).then(function(t){try{e.setState({responseCategory:t.data.categories.items,activeMenu:t.data.categories.items[0].name}),e.requestPlayLists(t.data.categories.items[0].href)}catch(a){}}).catch(function(e){})}},{key:"componentWillMount",value:function(){console.log("enetered!",A.a.parse(this.props.location.hash)["#access_token"]),void 0===A.a.parse(this.props.location.hash)["#access_token"]||(this.props.updateToken(A.a.parse(this.props.location.hash)["#access_token"]),O.setToken(A.a.parse(this.props.location.hash)["#access_token"]))}},{key:"handleMenuClick",value:function(e,t){for(var a=t.name,n="",i=0;i<8;i++)if(a==this.state.responseCategory[i].name){n=this.state.responseCategory[i].href;break}this.requestPlayLists(n),this.setState({activeMenu:a})}},{key:"handleClick",value:function(e){O.setPlayList(this.state.responsePlayLists),O.setPlayListIndex(e),this.props.history.push("/rkmp2Test/detail/playlist")}},{key:"requestPlayLists",value:function(e){var t=this;null!==e&&L.a.get(e+"/playlists",{params:{limit:50},headers:{Authorization:"Bearer "+O.getToken()}}).then(function(e){t.setState({responsePlayLists:e.data.playlists.items})}).catch(function(e){})}},{key:"render",value:function(){var e=this;if(""==O.getToken())return null;if(null===this.state.responseCategory||0==this.state.responseCategory.length)return i.a.createElement("div",{className:"LandingPage"},i.a.createElement(x.a,{active:!0},i.a.createElement(T.a,null)));var t=this.state.responseCategory.map(function(t,a){return a<8?i.a.createElement(p.a.Item,{name:t.name,key:a,onClick:e.handleMenuClick,active:e.state.activeMenu==t.name}):null}),a=this.state.responsePlayLists.map(function(t,a){return i.a.createElement("div",{className:"GridDisplayBlock",key:a},i.a.createElement("div",{className:"GridDisplayImageContainer"},i.a.createElement("div",{className:"GridDisplayImageView",onClick:function(){e.handleClick(a)}},i.a.createElement(C.a,{src:t.images[0].url}))),i.a.createElement("div",{className:"GridDisplayTitle"},t.name))});return i.a.createElement("div",{className:"LandingPage"},0!=this.state.responsePlayLists.length?i.a.createElement("div",{className:"LibraryBackground"},i.a.createElement(C.a,{src:this.state.responsePlayLists[0].images[0].url,className:"FillParent"})):null,i.a.createElement("div",{className:"LibraryContainer"},i.a.createElement("div",{className:"LibraryNavigator"},i.a.createElement(p.a,{widths:8,pointing:!0,inverted:!0,secondary:!0,size:"massive"},t)),i.a.createElement("div",{className:"LibraryViewContainer"},i.a.createElement("div",{className:"LibraryView"},i.a.createElement("div",{className:"LibraryViewCenter U_Center"},a)))))}}]),t}(n.Component),R=a(82),V=a.n(R),J=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleNavigateLeft=a.handleNavigateLeft.bind(Object(h.a)(Object(h.a)(a))),a.handleNavigateRight=a.handleNavigateRight.bind(Object(h.a)(Object(h.a)(a))),a.requestDetailAPI=a.requestDetailAPI.bind(Object(h.a)(Object(h.a)(a))),a.state={buttonLeftDisabled:!1,buttonRightDisabled:!1,dataList:[],currentIdx:0,fetched:!1,responseJson:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillMount",value:function(){this.setState({dataList:O.getAblumList(),currentIdx:O.getAblumIdx()}),null===O.getAblumList()||0==O.getAblumList().length||(this.requestDetailAPI(O.getAblumIdx()),0==O.getAblumIdx()&&this.setState({buttonLeftDisabled:!0}),O.getAblumList().length==O.getAblumIdx()+1&&this.setState({buttonRightDisabled:!0}))}},{key:"requestDetailAPI",value:function(e){var t=this;this.setState({fetched:!1}),L.a.get(O.getAblumList()[e],{headers:{Authorization:"Bearer "+O.getToken()}}).then(function(e){t.setState({responseJSON:e,fetched:!0})}).catch(function(e){})}},{key:"handleNavigateLeft",value:function(){this.setState({buttonLeftDisabled:1==this.state.currentIdx,buttonRightDisabled:!1}),this.requestDetailAPI(this.state.currentIdx-1),this.setState({currentIdx:this.state.currentIdx-1})}},{key:"handleNavigateRight",value:function(){this.setState({buttonLeftDisabled:!1,buttonRightDisabled:this.state.currentIdx+2==this.state.dataList.length}),this.requestDetailAPI(this.state.currentIdx+1),this.setState({currentIdx:this.state.currentIdx+1})}},{key:"render",value:function(){var e=this;return null===this.state.dataList||0==this.state.dataList.length?i.a.createElement("div",{className:"DetailContainer"},i.a.createElement("div",{className:"DetailNavigator"},i.a.createElement("div",{className:"LeftNavigatorButtonContainer"},i.a.createElement(g.a,{icon:"left chevron",color:"black",onClick:this.handleNavigateLeft,disabled:!0})),i.a.createElement("div",{className:"RightNavigatorButtonContainer"},i.a.createElement(g.a,{icon:"right chevron",color:"black",onClick:this.handleNavigateRight,disabled:!0}))),i.a.createElement("div",{className:"DetailView"},i.a.createElement("div",{className:"U_Center"},i.a.createElement("div",{className:"U_LargeText"},"No Data Found")))):0==this.state.fetched?i.a.createElement("div",{className:"DetailContainer"},i.a.createElement("div",{className:"DetailNavigator"},i.a.createElement("div",{className:"LeftNavigatorButtonContainer"},i.a.createElement(g.a,{icon:"left chevron",color:"black",onClick:this.handleNavigateLeft,disabled:this.state.buttonLeftDisabled})),i.a.createElement("div",{className:"RightNavigatorButtonContainer"},i.a.createElement(g.a,{icon:"right chevron",color:"black",onClick:this.handleNavigateRight,disabled:this.state.buttonRightDisabled}))),i.a.createElement("div",{className:"DetailView"},i.a.createElement("div",{className:"DetailFlexContainer U_Center"},i.a.createElement("div",{className:"DetailPictureView"},i.a.createElement("div",{className:"DetailImageContainer"},i.a.createElement("div",{className:"DetailImageView"}))),i.a.createElement("div",{className:"DetailListView"})))):i.a.createElement("div",{className:"DetailContainer"},i.a.createElement("div",{className:"DetailBackground"},i.a.createElement(C.a,{src:this.state.responseJSON.data.images[0].url,className:"FillParent"})),i.a.createElement("div",{className:"DetailNavigator"},i.a.createElement("div",{className:"LeftNavigatorButtonContainer"},i.a.createElement(g.a,{icon:"left chevron",color:"black",onClick:this.handleNavigateLeft,disabled:this.state.buttonLeftDisabled})),i.a.createElement("div",{className:"RightNavigatorButtonContainer"},i.a.createElement(g.a,{icon:"right chevron",color:"black",onClick:this.handleNavigateRight,disabled:this.state.buttonRightDisabled}))),i.a.createElement("div",{className:"DetailView"},i.a.createElement("div",{className:"DetailFlexContainer U_Center"},i.a.createElement("div",{className:"DetailPictureView"},i.a.createElement("div",{className:"DetailImageContainer"},i.a.createElement("div",{className:"DetailImageView"},i.a.createElement(C.a,{src:this.state.responseJSON.data.images[0].url}))),i.a.createElement("h2",{className:"DetailDescriptionView"},this.state.responseJSON.data.name),i.a.createElement("h5",{className:"DetailDescriptionArtists"},this.state.responseJSON.data.artists.map(function(t,a){return a+1!=e.state.responseJSON.data.artists.length?t.name+", ":t.name}))),i.a.createElement("div",{className:"DetailListView"},null===this.state.responseJSON.data.tracks||0==this.state.responseJSON.data.tracks.length?i.a.createElement("div",null,"Data is corrupted"):i.a.createElement(S.a,{selection:!0,divided:!0,inverted:!0,size:"massive"},this.state.responseJSON.data.tracks.items.map(function(e,t){try{var a=V.a.duration(e.duration_ms),n="";return 0!=a.hours()&&(n=a.hours().toString()+":"),0!=a.minutes()&&(a.minutes()<10&&""!=n&&(n+=0),n=n+a.minutes().toString()+":"),""==n&&(n="0:"),a.seconds()<10&&""!=n&&(n+=0),n+=a.seconds().toString(),i.a.createElement(S.a.Item,{key:t,name:t},i.a.createElement(S.a.Content,null,i.a.createElement(S.a.Header,null,e.name)),i.a.createElement(S.a.Content,{floated:"right"},n))}catch(s){return console.log(s),null}}))))))}}]),t}(n.Component),U=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleNavigateLeft=a.handleNavigateLeft.bind(Object(h.a)(Object(h.a)(a))),a.handleNavigateRight=a.handleNavigateRight.bind(Object(h.a)(Object(h.a)(a))),a.requestDetailAPI=a.requestDetailAPI.bind(Object(h.a)(Object(h.a)(a))),a.state={buttonLeftDisabled:!1,buttonRightDisabled:!1,dataList:[],currentIdx:0,fetched:!1,infoJSON:null,trackJSON:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillMount",value:function(){console.log(O.getPlayListIndex()),console.log("componentWillMount!"),this.setState({dataList:O.getPlayList(),currentIdx:O.getPlayListIndex()}),null===O.getPlayList()||0==O.getPlayList().length||(this.requestDetailAPI(O.getPlayListIndex()),0==O.getPlayListIndex()&&this.setState({buttonLeftDisabled:!0}),O.getPlayList().length==O.getPlayListIndex()+1&&this.setState({buttonRightDisabled:!0}))}},{key:"requestDetailAPI",value:function(e){var t=this;this.setState({fetched:!1}),console.log("we need to request ",e," ",O.getPlayList()[e]),L.a.get(O.getPlayList()[e].tracks.href,{headers:{Authorization:"Bearer "+O.getToken()}}).then(function(a){console.log("GOOD we got res!",a),t.setState({infoJSON:O.getPlayList()[e],trackJSON:a,fetched:!0})}).catch(function(e){console.log("BAD!",e)})}},{key:"handleNavigateLeft",value:function(){this.setState({buttonLeftDisabled:1==this.state.currentIdx,buttonRightDisabled:!1}),this.requestDetailAPI(this.state.currentIdx-1),this.setState({currentIdx:this.state.currentIdx-1})}},{key:"handleNavigateRight",value:function(){this.setState({buttonLeftDisabled:!1,buttonRightDisabled:this.state.currentIdx+2==this.state.dataList.length}),this.requestDetailAPI(this.state.currentIdx+1),this.setState({currentIdx:this.state.currentIdx+1})}},{key:"render",value:function(){return null===this.state.dataList||0==this.state.dataList.length?i.a.createElement("div",{className:"DetailContainer"},i.a.createElement("div",{className:"DetailNavigator"},i.a.createElement("div",{className:"LeftNavigatorButtonContainer"},i.a.createElement(g.a,{icon:"left chevron",color:"black",onClick:this.handleNavigateLeft,disabled:!0})),i.a.createElement("div",{className:"RightNavigatorButtonContainer"},i.a.createElement(g.a,{icon:"right chevron",color:"black",onClick:this.handleNavigateRight,disabled:!0}))),i.a.createElement("div",{className:"DetailView"},i.a.createElement("div",{className:"U_Center"},i.a.createElement("div",{className:"U_LargeText"},"No Data Found")))):0==this.state.fetched?i.a.createElement("div",{className:"DetailContainer"},i.a.createElement("div",{className:"DetailNavigator"},i.a.createElement("div",{className:"LeftNavigatorButtonContainer"},i.a.createElement(g.a,{icon:"left chevron",color:"black",onClick:this.handleNavigateLeft,disabled:this.state.buttonLeftDisabled})),i.a.createElement("div",{className:"RightNavigatorButtonContainer"},i.a.createElement(g.a,{icon:"right chevron",color:"black",onClick:this.handleNavigateRight,disabled:this.state.buttonRightDisabled}))),i.a.createElement("div",{className:"DetailView"},i.a.createElement("div",{className:"DetailFlexContainer U_Center"},i.a.createElement("div",{className:"DetailPictureView"},i.a.createElement("div",{className:"DetailImageContainer"},i.a.createElement("div",{className:"DetailImageView"}))),i.a.createElement("div",{className:"DetailListView"})))):i.a.createElement("div",{className:"DetailContainer"},i.a.createElement("div",{className:"DetailBackground"},i.a.createElement(C.a,{src:this.state.infoJSON.images[0].url,className:"FillParent"})),i.a.createElement("div",{className:"DetailNavigator"},i.a.createElement("div",{className:"LeftNavigatorButtonContainer"},i.a.createElement(g.a,{icon:"left chevron",color:"black",onClick:this.handleNavigateLeft,disabled:this.state.buttonLeftDisabled})),i.a.createElement("div",{className:"RightNavigatorButtonContainer"},i.a.createElement(g.a,{icon:"right chevron",color:"black",onClick:this.handleNavigateRight,disabled:this.state.buttonRightDisabled}))),i.a.createElement("div",{className:"DetailView"},i.a.createElement("div",{className:"DetailFlexContainer U_Center"},i.a.createElement("div",{className:"DetailPictureView"},i.a.createElement("div",{className:"DetailImageContainer"},i.a.createElement("div",{className:"DetailImageView"},i.a.createElement(C.a,{src:this.state.infoJSON.images[0].url,className:"FillParent"}))),i.a.createElement("h2",{className:"DetailDescriptionView"},this.state.infoJSON.name),i.a.createElement("h5",{className:"DetailDescriptionArtists"},this.state.infoJSON.collaborative?"Collaborative Playlist":"Presented by "+this.state.infoJSON.owner.display_name)),i.a.createElement("div",{className:"DetailListView"},null===this.state.trackJSON.data.items||0==this.state.trackJSON.data.items.length?i.a.createElement("div",null,"Data is corrupted"):i.a.createElement(S.a,{selection:!0,divided:!0,inverted:!0,size:"massive"},this.state.trackJSON.data.items.map(function(e,t){try{var a=V.a.duration(e.track.duration_ms),n="";return 0!=a.hours()&&(n=a.hours().toString()+":"),0!=a.minutes()&&(a.minutes()<10&&""!=n&&(n+=0),n=n+a.minutes().toString()+":"),""==n&&(n="0:"),a.seconds()<10&&""!=n&&(n+=0),n+=a.seconds().toString(),i.a.createElement(S.a.Item,{key:t,name:t},i.a.createElement(S.a.Content,null,i.a.createElement(S.a.Header,null,e.track.name),i.a.createElement("div",{className:"TruncateDiv"},e.track.artists.map(function(t,a){return a+1!=e.track.artists.length?t.name+", ":t.name}))),i.a.createElement(S.a.Content,{floated:"right"},n))}catch(s){return console.log(s),null}}))))))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={token:""},a.updateToken=a.updateToken.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"updateToken",value:function(e){this.setState({token:e})}},{key:"render",value:function(){var e=this;return""==this.state.token?i.a.createElement(d.a,null,i.a.createElement("div",{className:"ContainerDiv"},i.a.createElement(x.a,{active:!0},i.a.createElement("div",{className:"U_Center U_LargeText"},i.a.createElement(b,null))),i.a.createElement("div",{className:"MainViewContainerDiv"},i.a.createElement("div",{className:"SideMenuDiv"},i.a.createElement(E,null)),i.a.createElement("div",{className:"MainViewDiv"},i.a.createElement("div",{className:"FillParent"},i.a.createElement(v.a,{exact:!0,path:"/rkmp2Test",render:function(t){return i.a.createElement(B,Object.assign({},t,{updateToken:e.updateToken}))}}),i.a.createElement(v.a,{path:"/rkmp2Test/search",component:P}),i.a.createElement(v.a,{path:"/rkmp2Test/new",component:j}),i.a.createElement(v.a,{path:"/rkmp2Test/detail/album",component:J}),i.a.createElement(v.a,{path:"/rkmp2Test/detail/playlist",component:U})))),i.a.createElement("div",{className:"ToolBarDiv"}))):i.a.createElement(d.a,null,i.a.createElement("div",{className:"ContainerDiv"},i.a.createElement("div",{className:"MainViewContainerDiv"},i.a.createElement("div",{className:"SideMenuDiv"},i.a.createElement(E,null)),i.a.createElement("div",{className:"MainViewDiv"},i.a.createElement("div",{className:"FillParent"},i.a.createElement(v.a,{exact:!0,path:"/rkmp2Test",render:function(t){return i.a.createElement(B,Object.assign({},t,{updateToken:e.updateToken}))}}),i.a.createElement(v.a,{path:"/rkmp2Test/search",component:P}),i.a.createElement(v.a,{path:"/rkmp2Test/new",component:j}),i.a.createElement(v.a,{path:"/rkmp2Test/detail/album",component:J}),i.a.createElement(v.a,{path:"/rkmp2Test/detail/playlist",component:U})))),i.a.createElement("div",{className:"ToolBarDiv"})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},42:function(e,t,a){},43:function(e,t,a){}},[[187,1,2]]]);
//# sourceMappingURL=main.bdeb4d6a.chunk.js.map